<div class="container">
  <div class="row justify-content-center mt-1">

        <!-- Activity Image Carousel -->
        <div class="col-12">
        <div id="activityImageCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <!-- Loop through activity photos and create carousel items -->
          <% @activity.photos.each_with_index do |photo, index| %>
            <div class="carousel-item <%= index == 0 ? 'active' : '' %>">
              <!-- Display activity image using Cloudinary's 'cl_image_tag' helper -->
              <%= cl_image_tag photo.key, class: "carousel-image" %>
            </div>
          <% end %>
        </div>

        <!-- Carousel navigation button (Previous) -->
        <button class="carousel-control-prev" type="button" data-bs-target="#activityImageCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <!-- Carousel navigation button (Next) -->
        <button class="carousel-control-next" type="button" data-bs-target="#activityImageCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

    <!-- Description -->
    <div class="row">
        <div class="col-12">
            <div class="card mt-2 m-0 mb-2">
                <div class="card-body">

                    <!-- Activity Description -->
                    <div class="description-container costum--container">
                        <% if @activity.present? %>
                            <h4 class="card-title my-1"><%= @activity.name %></h4>
                            <p class="card-text mt-2 mb-2"><%= @activity.description %></p>
                        <% else %>
                            <p>Activity details</p>
                        <% end %>
                  </div>

                    <!--Join Button-->
                   <% if current_user == @activity.owner %>

                    <!--Edit button not yet functional-->
                      <%= link_to "Edit", edit_activity_path(@activity), class: "btn btn-primary" %>
                    <% elsif current_user != @activity.owner %>
                      <%= simple_form_for [@activity, @booking] do |f| %>
                      <%= f.submit "Join", class: "btn btn-primary" %>
                      <% end %>
                    <% end %>
                </div>
            </div>
          </div>
      </div>
  </div>

<!-- Full Address -->
  <div class="row my-0 mb-0">
    <div class="col-12">
      <p><%= @activity.address %></p>
    </div>
  </div>

    <!-- Map -->
    <div class="row my-0 mt-0">
        <div class="col-12">
            <!-- Mapbox container and data attributes -->
            <div class="map-container"
            data-controller="map"
            data-map-markers-value="<%= @markers.to_json %>"
            data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
            </div>
        </div>
    </div>

    <!-- Message Box -->
  <div class="col-12">
    <div class="card mt-2 m-0 mb-3">
      <div class="card-body">
        <h5 class="card-title">Message Center</h5>
        <div class="message-box-container">
          <form>
            <div class="form-group">
              <textarea class="form-control mb-2" rows="3" placeholder="Type your message..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Send</button>
          </form>
        </div>
      </div>
    </div>
  </div>
